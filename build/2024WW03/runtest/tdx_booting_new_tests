# @name tdx_booting_tests_new
# @desc Check TD bootup with different qemu configurations
# @requires tdx
# @setup_requires
# @utility_requires sshpass

TDX_XS_FUNC_BOOT_C_1_S_1_M_1_NEW cd ddt_intel/lkvs/guest-test && ./guest.test_launcher.sh -v 1 -s 1 -m 1 -d on -t tdx -f tdx -x TD_BOOT -c "accept_memory=lazy" -p off -g off
TDX_XS_FUNC_BOOT_C_1_S_1_M_16_NEW cd ddt_intel/lkvs/guest-test && ./guest.test_launcher.sh -v 1 -s 1 -m 16 -d on -t tdx -f tdx -x TD_BOOT -c "accept_memory=lazy" -p off -g off
TDX_XS_FUNC_BOOT_C_4_S_1_M_4_NEW cd ddt_intel/lkvs/guest-test && ./guest.test_launcher.sh -v 4 -s 1 -m 4 -d on -t tdx -f tdx -x TD_BOOT -c "accept_memory=lazy" -p off -g off
TDX_XS_FUNC_BOOT_C_4_S_2_M_4_NEW cd ddt_intel/lkvs/guest-test && ./guest.test_launcher.sh -v 4 -s 2 -m 4 -d on -t tdx -f tdx -x TD_BOOT -c "accept_memory=lazy" -p off -g off
TDX_XS_FUNC_BOOT_C_4_S_2_M_96_NEW cd ddt_intel/lkvs/guest-test && ./guest.test_launcher.sh -v 4 -s 2 -m 96 -d on -t tdx -f tdx -x TD_BOOT -c "accept_memory=lazy" -p off -g off
TDX_XS_FUNC_BOOT_C_64_S_8_M_96_NEW cd ddt_intel/lkvs/guest-test && ./guest.test_launcher.sh -v 64 -s 8 -m 96 -d on -t tdx -f tdx -x TD_BOOT -c "accept_memory=lazy" -p off -g off
TDX_XS_FUNC_BOOT_C_288_S_1_M_1_NEW cd ddt_intel/lkvs/guest-test && ./guest.test_launcher.sh -v 288 -s 1 -m 1 -d on -t tdx -f tdx -x TD_BOOT -c "accept_memory=lazy" -p off -g off
TDX_XS_FUNC_BOOT_C_288_S_8_M_96_NEW cd ddt_intel/lkvs/guest-test && ./guest.test_launcher.sh -v 288 -s 8 -m 96 -d on -t tdx -f tdx -x TD_BOOT -c "accept_memory=lazy" -p off -g off
TDX_XS_FUNC_BOOT_DEBUG_ON_NEW cd ddt_intel/lkvs/guest-test && ./guest.test_launcher.sh -v 1 -s 1 -m 1 -d on -t tdx -f tdx -x TD_BOOT -c "accept_memory=lazy" -p off -g off
TDX_XS_FUNC_BOOT_DEBUG_OFF_NEW cd ddt_intel/lkvs/guest-test && ./guest.test_launcher.sh -v 1 -s 1 -m 1 -d off -t tdx -f tdx -x TD_BOOT -c "accept_memory=lazy" -p off -g off
TDX_XS_FUNC_BOOT_LEGACY_VM_NEW cd ddt_intel/lkvs/guest-test && ./guest.test_launcher.sh -v 1 -s 1 -m 1 -d on -t legacy -f tdx -x TD_BOOT -c " " -p off
