# @name TPMI PEM BAT TESTS
# @desc Intel TPMI PEM Basic Acceptance Tests
# @requires powermgr/pem
# @utility_requires perf
# @setup_requires

#TPMI_PEM BAT Tests
PEM_XS_BAT_PERF_LIST_EVENT_CHECK tpmi_pem.sh -t check_pem_events
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_ANY tpmi_pem.sh -t perf_stat_all_cpu_event_any
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_FAST_RAPL tpmi_pem.sh -t perf_stat_all_cpu_event_fast_rapl
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_HOT_VR tpmi_pem.sh -t perf_stat_all_cpu_event_hot_vr
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_ITBM_3 tpmi_pem.sh -t perf_stat_all_cpu_event_itbm_3
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_PECI_PSTATE tpmi_pem.sh -t perf_stat_all_cpu_event_peci_pstate
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_PL1_MMIO tpmi_pem.sh -t perf_stat_all_cpu_event_pl1_mmio
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_PL1_MSR_TPMI tpmi_pem.sh -t perf_stat_all_cpu_event_pl1_msr_tpmi
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_PL1_PECI tpmi_pem.sh -t perf_stat_all_cpu_event_pl1_peci
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_PL2_MMIO tpmi_pem.sh -t perf_stat_all_cpu_event_pl2_mmio
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_PL2_MSR_TPMI tpmi_pem.sh -t perf_stat_all_cpu_event_pl2_msr_tpmi
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_PL2_PECI tpmi_pem.sh -t perf_stat_all_cpu_event_pl2_peci
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_PMAX tpmi_pem.sh -t perf_stat_all_cpu_event_pmax
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_PROCHOT tpmi_pem.sh -t perf_stat_all_cpu_event_prochot
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_PSYS_PL1_MMIO tpmi_pem.sh -t perf_stat_all_cpu_event_psys_pl1_mmio
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_PSYS_PL1_TPMI tpmi_pem.sh -t perf_stat_all_cpu_event_psys_pl1_msr_tpmi
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_PSYS_PL1_PECI tpmi_pem.sh -t perf_stat_all_cpu_event_psys_pl1_peci
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_PSYS_PL2_MMIO tpmi_pem.sh -t perf_stat_all_cpu_event_psys_pl2_mmio
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_PSYS_PL2_TPMI tpmi_pem.sh -t perf_stat_all_cpu_event_psys_pl2_msr_tpmi
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_PSYS_PL2_PECI tpmi_pem.sh -t perf_stat_all_cpu_event_psys_pl2_peci
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_SST_PP tpmi_pem.sh -t perf_stat_all_cpu_event_sst_pp
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_THERMAL tpmi_pem.sh -t perf_stat_all_cpu_event_thermal 
PEM_XS_BAT_PERF_STAT_ALL_CPU_EVENT_ANY_PM tpmi_pem.sh -t perf_stat_all_cpu_event_any_pm
#Single CPU PnP excusion event check
PEM_XS_BAT_PERF_STAT_CPU_1_EVENT_ANY tpmi_pem.sh -t perf_stat_cpu_1_event_any
PEM_XS_BAT_PERF_STAT_CPU_1_EVENT_ANY_P01 tpmi_pem.sh -t perf_stat_cpu_1_event_any_p01
#PnP excusion event by check EVENT ID, only select four to check by ramdon
PEM_XS_BAT_PERF_STAT_RAW_EVENT_0 tpmi_pem.sh -t perf_stat_raw_event_0
PEM_XS_BAT_PERF_STAT_RAW_EVENT_8 tpmi_pem.sh -t perf_stat_raw_event_8
PEM_XS_BAT_PERF_STAT_RAW_EVENT_24 tpmi_pem.sh -t perf_stat_raw_event_24
PEM_XS_BAT_PERF_STAT_RAW_EVENT_26 tpmi_pem.sh -t perf_stat_raw_event_26
#User trigger PnP excusion event occurs by changing RPAL power limit and SST Perf profile level change
PEM_S_BAT_PERF_STAT_RAPL_PL1_CHANGE tpmi_pem.sh -t perf_stat_rapl_pl1_change
PEM_S_BAT_PERF_STAT_RAPL_PL2_CHANGE tpmi_pem.sh -t perf_stat_rapl_pl2_change
PEM_S_BAT_RAPL_LIMIT1_CHANGE_TPMI_GROUP tpmi_pem.sh -t perf_stat_rapl_pl1_group_tpmi_change
PEM_S_BAT_RAPL_LIMIT2_CHANGE_TPMI_GROUP tpmi_pem.sh -t perf_stat_rapl_pl2_group_tpmi_change
PEM_S_BAT_RAPL_LIMIT1_CHANGE_PECI_GROUP tpmi_pem.sh -t perf_stat_rapl_pl1_group_peci_change
PEM_S_BAT_RAPL_LIMIT2_CHANGE_PECI_GROUP tpmi_pem.sh -t perf_stat_rapl_pl2_group_peci_change
PEM_S_BAT_RAPL_LIMIT_CHANGE_TPMI_MULTI_GROUP tpmi_pem.sh -t perf_stat_rapl_pl1_pl2_multi_group_tpmi_change
PEM_S_BAT_RAPL_LIMIT_CHANGE_PECI_MULTI_GROUP tpmi_pem.sh -t perf_stat_rapl_pl1_pl2_multi_group_peci_change
PEM_S_BAT_SST_PP_CHANGE_TO_LEVEL3_GROUP tpmi_pem.sh -t perf_stat_sst_pp_change_to_level3
PEM_S_BAT_SST_PP_CHANGE_TO_LEVEL4_GROUP tpmi_pem.sh -t perf_stat_sst_pp_change_to_level4
PEM_S_BAT_SST_PP_CHANGE_TO_LEVEL3_MULTI_GROUP tpmi_pem.sh -t perf_stat_sst_pp_change_to_level3_group
PEM_S_BAT_SST_PP_CHANGE_TO_LEVEL4_MULTI_GROUP tpmi_pem.sh -t perf_stat_sst_pp_change_to_level4_group
#PnP excusion check by group but without user trigger or control
PEM_S_BAT_PERF_STAT_ALL_CPU_GROUP_MMIO tpmi_pem.sh -t perf_state_all_cpu_group_mmio
PEM_S_BAT_PERF_STAT_ALL_CPU_GROUP_TPMI tpmi_pem.sh -t perf_state_all_cpu_group_tpmi
PEM_S_BAT_PERF_STAT_ALL_CPU_GROUP_PECI tpmi_pem.sh -t perf_state_all_cpu_group_peci
PEM_S_BAT_PERF_STAT_ALL_CPU_GROUP_PLATFORM tpmi_pem.sh -t perf_state_all_cpu_group_platform
PEM_S_BAT_PERF_STAT_ALL_CPU_GROUP_FREQ tpmi_pem.sh -t perf_state_all_cpu_group_freq
PEM_S_BAT_PERF_STAT_ALL_CPU_PM_GROUP_MMIO tpmi_pem.sh -t perf_state_all_cpu_pm_group_mmio
PEM_S_BAT_PERF_STAT_ALL_CPU_PM_GROUP_TPMI tpmi_pem.sh -t perf_state_all_cpu_pm_group_tpmi
PEM_S_BAT_PERF_STAT_ALL_CPU_PM_GROUP_PECI tpmi_pem.sh -t perf_state_all_cpu_pm_group_peci
PEM_S_BAT_PERF_STAT_ALL_CPU_PM_GROUP_PLATFORM tpmi_pem.sh -t perf_state_all_cpu_pm_group_platform
PEM_S_BAT_PERF_STAT_ALL_CPU_PM_GROUP_FREQ tpmi_pem.sh -t perf_state_all_cpu_pm_group_freq
